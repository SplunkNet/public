<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Page Title</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js" integrity="sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/mhchem.min.js"></script>
  </head>
  <body>

<h1>Just a heading</h1>

<div id="myDiv"><p id="first">Inside the div.</p></div>

<script>

  
var urlParams;
(window.onpopstate = function () {
    var match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

    urlParams = {};
    while (match = search.exec(query))
       urlParams[decode(match[1])] = decode(match[2]);
})();

console.log(urlParams);
var gotParam = parseInt(urlParams.enc, 10);
console.log(gotParam);
  
  
  
  
var formulas = [];
  
formulas[0] = [
  '0 = \\pm\\sqrt{a^2 + b^2}',
  '1 = \\pm\\sqrt{a^2 + b^2}',
  '2 = \\pm\\sqrt{a^2 + b^2}'
];

formulas[1] = [
  '\\cfrac{p_1 \\cdot V_1}{T_1} = \\cfrac{p_2 \\cdot V_2}{T_2}',
  'p_1 \\cdot V_1 = \\cfrac{p_2 \\cdot V_2 \\cdot T_1}{T_2}',
  'p_1 = \\cfrac{p_2 \\cdot V_2 \\cdot T_1}{T_2 \\cdot V_1}',
  '\\underline{\\underline{p_1 = \\pu{123 kJ//mol}}}'
];  


  
var i;
for (i = 0; i < formulas[gotParam].length; i++) { 

  var myNode = '';
  myNode = document.createElement('p');
  myNode.setAttribute('id','id' + i);
  myNode.setAttribute('align', 'center');
  myNode.style.marginBottom = "30px";
  document.getElementById('myDiv').appendChild(myNode);

  katex.render(formulas[gotParam][i], myNode, {
    throwOnError: false
  });

}




</script>

</body>
</html>
